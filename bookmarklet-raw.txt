javascript:(()=>{let e=window.getSelection();let n=/[\u0300-\u036F]|[\u0483-\u0489]|[\u1AB0-\u1AFF]|[\u1DC0-\u1DFF]|[\u20D0-\u20FF]|[\u2DE0-\u2DFF]|[\uA66F-\uA67D]|\uA69E|\uA69F|[\uFE20-\uFE2F]/gu,t=[];for(let a of function*(){for(let n=0;n<e.rangeCount;++n)yield e.getRangeAt(n)}()){if(!a||a.collapsed)continue;function l(e,t,l){return e.slice(0,t)+e.slice(t,l).replace(n,"")+e.slice(l)}function o(e,n,t){e.nodeValue=l(e.nodeValue,n,t)}let e=a.startContainer,d=a.endContainer,i=a.startOffset,f=a.endOffset,r=null!=d.nodeValue?d.nodeValue.length-f:0;function*u(n){if(a.intersectsNode(n))if(n.nodeValue)yield[n,n===e?i:0,n===d?f:n.nodeValue.length];else for(let e of n.childNodes)yield*u(e)}for(let e of u(a.commonAncestorContainer))o(...e);let s=null!=d.nodeValue?d.nodeValue.length-r:f,c=new Range;c.setStart(e,i),c.setEnd(d,s),t.push(c)}if(t.length){e.removeAllRanges();for(let n of t)e.addRange(n)}else alert("No text selected to dezalgoize!")})();
